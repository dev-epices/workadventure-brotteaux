(()=>{"use strict";let e;const s=new Date,a=s.getHours()+":"+s.getMinutes(),t="Alfred",o={officeEpicesDev:"Epices - Dev",officeEpicesSUpport:"Epices - Support",jitsiChillZone:"Pause café",jitsiGaia:"Gaia",jitsiHelios:"Helios",jitsiNeptune:"Neptune",silent:"Ne pas déranger"};WA.onInit().then((()=>{const e=WA.state.loadVariable("players");console.log(e),WA.state.saveVariable("players",Object.assign(Object.assign({},e),{[WA.player.name]:""}))})),WA.ui.registerMenuCommand("Liste de presence",(()=>{const e=WA.state.loadVariable("players");WA.chat.sendChatMessage("//// Liste de présence :",t),Object.entries(e).forEach((([e,s])=>{const a=""!=s?` : ${o[s]}`:"";WA.chat.sendChatMessage(`${e}${a}`,t)}))})),Object.keys(o).forEach((e=>{WA.room.onEnterZone(e,(()=>{const s=WA.state.loadVariable("players");WA.state.saveVariable("players",Object.assign(Object.assign({},s),{[WA.player.name]:e}))})),WA.room.onLeaveZone(e,(()=>{const e=WA.state.loadVariable("players");WA.state.saveVariable("players",Object.assign(Object.assign({},e),{[WA.player.name]:""}))}))})),WA.room.onEnterZone("clock",(()=>{e=WA.ui.openPopup("clockPopup","It's "+a,[])})),WA.room.onLeaveZone("clock",(function(){void 0!==e&&(e.close(),e=void 0)}))})();
//# sourceMappingURL=script.js.map